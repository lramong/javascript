<html>

<head>
  <meta charset="UTF-8" />
  <title>Módulo 2 - Ex 4</title>
</head>

<body>
  <div id="app">
    <input type="text" name="nome">
    <button onclick="adicionar()">Adicionar</button>
  </div>

  <script>
    // definindo lista de nomes
    var nomes = ["Diego", "Gabriel", "Lucas"];
    // selecionando a div principal
    var app = document.querySelector("#app");

    // criando lista
    var list = document.createElement('ul');

    // adicionando itens da lista
    for (i = 0; i < nomes.length; i++) {
      // cria um elemento 'list item'
      var item = document.createElement('li');
      // insere um texto em sua propriedade para exibição
      item.appendChild(document.createTextNode(nomes[i]));
      // conecta o item na lista
      list.appendChild(item);
    }
    // conecta a lista na aplicação
    app.appendChild(list);

    function adicionar() {
      var oldList = new Array (list);
      
      var newList = document.createElement('ul');
      newList = list;
      var text = document.querySelector('input');
      var conteudo = text.value;
      
      for (i = 0; i < oldList.length; i++) {
        newItem = document.createElement('li');
        newItem.appendChild(document.createTextNode(text.value));
        newList.appendChild(newItem);
      }

      app.removeChild(list);
      app.appendChild(newList);
      list = newList;
      text.value = null;
      text.focus();
    }

  </script>

</body>

</html>